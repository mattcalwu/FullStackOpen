{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/person.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","deleteContact","id","className","name","number","Persons","persons","style","listStyle","paddingLeft","map","baseUrl","axios","get","then","response","data","newContact","post","delete","contactInfo","put","Notification","message","Error","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setNewMessage","errorMessage","setErrorMessage","useEffect","personServices","initialContacts","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","found","find","undefined","window","confirm","returnedContact","setTimeout","concat","catch","error","contactName","parseInt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a1e4f505.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({search, handleSearchChange}) => {\n    return(\n      <div>\n        Filter shown with<input\n        value = {search}\n        onChange = {handleSearchChange}\n        />\n      </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\n\nconst PersonForm = ({addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\n    return(\n        <>\n        <form onSubmit = {addName}>\n        <div>\n          Name: <input \n          value = {newName} \n          onChange = {handleNameChange}\n          />\n        </div>\n        <div>\n          Number: <input\n          value = {newNumber}\n          onChange = {handleNumberChange}\n          >\n          </input>\n        </div>\n        <div>\n          <button type = 'submit'>add</button>\n        </div>\n      </form>\n      </>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({person, deleteContact}) => {\n    return(\n        <>\n          <li>\n            <form id = {person.id} className = {person.name} onSubmit = {deleteContact}>\n            {person.name} {person.number}\n            <button type = 'submit'>delete</button>\n            </form>\n          </li>\n        </>\n    )\n}\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, deleteContact}) => {\n    return(\n        <ul style = {{\n            listStyle: 'none', \n            paddingLeft: 0}\n            }>\n            {persons.map(\n              person => <Person key = {person.name} person = {person} deleteContact = {deleteContact}/>)}\n          </ul>\n    )\n}\n\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst addContact = newContact => {\n    const request = axios.post(baseUrl, newContact)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updateContact = (id, contactInfo) => {\n    const request = axios.put(`${baseUrl}/${id}`, contactInfo)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, addContact, deleteContact, updateContact}","import React from 'react'\nconst Notification = ({message}) => {\n    if(message === null){\n      return null\n    }\n    return(\n      <div className = 'notification'>\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React from 'react'\n\nconst Error = ({message}) => {\n    if(message === null){\n        return null\n    }\n    return(\n        <div className = \"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import React, {useState, useEffect} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personServices from './services/person'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nconst App = () =>{\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setNewSearch] = useState('')\n  const [message, setNewMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n   \n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const deleteContact = (event) => {\n    event.preventDefault()\n    const id = event.target.id\n    const contactName = event.target.className\n    const confirmed = window.confirm(`Delete ${contactName}?`)\n    if(confirmed){\n     personServices\n                  .deleteContact(id)\n                  .catch(error =>{\n                    setErrorMessage(`Information of ${contactName} was already deleted`)\n                    setTimeout(()=>{\n                      setErrorMessage(null)\n                    }, 5000)\n                  })\n      setPersons(persons.filter(person => parseInt(person.id,10) !== parseInt(id,10)))\n      setNewName('')\n      setNewNumber('')\n      setNewSearch('')\n    }\n  }\n\n  useEffect(() => {\n   personServices  \n                .getAll()\n                .then(initialContacts=>{\n                  setPersons(initialContacts)\n                })\n  },[])\n\n  const personsToShow = search \n  ? persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n  : persons\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    const found = persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase())\n    if (found !== undefined){\n      const confirmed = window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)\n      if(confirmed){\n       personServices\n                    .updateContact(found.id, personObject)\n                    .then(returnedContact => {\n                      setPersons(persons.map(person => returnedContact.name === person.name? personObject: person))\n                    })\n        setNewMessage(`Updated ${personObject.name}'s contact information`)\n        setTimeout(()=>{\n          setNewMessage(null)\n        },5000)\n      }\n    }\n    else{\n     personServices \n                  .addContact(personObject)\n                  .then(newContact =>{\n                    setPersons(persons.concat(newContact))\n                    setNewName('')\n                    setNewNumber('')\n                    setNewSearch('')\n                    setNewMessage(`Added ${personObject.name}'s contact information`)\n                    setTimeout(()=>{\n                      setNewMessage(null)\n                    },5000)\n                  })\n                  .catch(error=> {\n                    setErrorMessage(error.response.data.error)\n                    setTimeout(()=>{\n                      setErrorMessage(null)\n                    },5000)\n                  })\n\n    }\n  }\n  return(\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {message}/>\n      <Error message = {errorMessage}/>\n        <Filter \n        search = {search} \n        handleSearchChange = {handleSearchChange}\n        />\n      <h2>Add a new</h2>\n        <PersonForm\n        addName = {addName}\n        newName = {newName} \n        newNumber = {newNumber}\n        handleNameChange = {handleNameChange} \n        handleNumberChange = {handleNumberChange}\n        />\n      <h2>Numbers</h2>\n        <Persons persons = {personsToShow} deleteContact= {deleteContact}/>\n    </div>\n  )\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}